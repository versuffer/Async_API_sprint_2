# Ссылка на репозиторий

https://github.com/versuffer/Async_API_sprint_2

# Как запустить апишку

```bash
cd infra
```

```bash
docker compose up -d --build
```

# Как запустить тесты

```bash
cd tests/functional
```

```bash
docker compose up -d --build
```

```bash
docker compose logs -f test_movies_api
```

# SOLID - особенности реализации

Дизайн кода предполагает, что конкретный сервис, например FilmsService, при инициализации получает круд.
Это происходит с помощью Depends. При этом круд должен соответствовать интерфейсу, который будет совместим с сервисом.
В случае с сервисом фильма это будет FilmCrudInterface. 

При необходимости замены одной бд на другую, например эластика на постгрес, нужно будет:
1. реализовать круд для постгреса, реализующий FilmCrudInterface.
2. заменить класс круда в функции get_film_crud

Таким образом, в коде проекта:
- сервисы не зависят от конкретного движка бд, и готовы работать с любым крудом, реализующим нужный интерфейс
- конкретный круд сервис получает через внедрение зависимости. если мы будем менять бд, в код сервисов не нужно вносить изменения
- вместо одного большого круда и интерфейса к нему у нас три небольших класса - это в большей степени отвечает SOLID.
У разных сервисов может быть разная причина для изменений. Допустим, в проекте фильмы будем получать из эластика, а жанры из постреса.
- класс BaseElasticCrud не нуждается в абстрактном интерфейсе. Он конкретный и используется в крудах сервисов, реализующих абстарктный интерфейс
